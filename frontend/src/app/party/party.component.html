<ng-container *ngIf="!loading">
  <nb-card *ngIf="!party">
    <nb-card-body class="party-card">
      <input
        nbInput
        fullwidth
        fieldSize="giant"
        placeholder="Partyname..."
        [(ngModel)]="partyNameModel"
      />
      <button
        status="success"
        [disabled]="partyNameModel === ''"
        nbButton
        (click)="authenticateHost()"
      >
        Connect to Spotify
      </button>
    </nb-card-body>
  </nb-card>
  <nb-card *ngIf="party">
    <h1>{{ party.name }}</h1>
    <div *ngFor="let member of party.partygoers">
      {{ member.username }}, Host: {{ member.host }}
    </div>
    <button nbButton status="primary" (click)="addMember()">Add Member</button>
  </nb-card>
</ng-container>

<button status="warning" nbButton (click)="startNewParty()">
  New Party
</button>

<ng-container *ngIf="loading">Loading ...</ng-container>
